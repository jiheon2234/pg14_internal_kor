다른 인덱스들이 필요한 행을 빠르게 찾도록 최적화된 것과 달리, BRIN[^1]은 불필요한 행을 걸러내는 데 초점을 맞춘 접근 방식이다. 이 접근 방식은 주로 수 테라바이트 이상의 큰 테이블을 위해 만들어졌으며, 검색의 정확성보다는 작은 인덱스 크기가 우선시된다.

검색 속도를 높이기 위해, 전체 테이블은 여러 범위로 나뉘어 BRIN 이라는 이름을 가진다 : Block Index Range.
각 범위는 여러 페이지로 구성되며, 인덱스는TID를 저장하지 않고 각 범위의 데이터에 대한 요약 정보만을 저장한다. 순서형 데이터 타입의 경우, 간단하게 범위 내 최소/최대를 저장할 수 있지만, 다른 연산자 클래스는 범위 내 값에 대한 다양한 정보를 수집할 수 있다.

범위 내 페이지 수는 인덱스 생성 시 *pages_per_range* 스토리지 매개변수에 따라 정의된다.
쿼리 조건이 인덱싱된 열을 참조하면, 일치하는 데이터가 없음이 보장되는 범위는 모두 건너뛸 수 있다. 그 외의 범위에 속하는 페이지들은 *lossy bitmap*(손실성 비트맵)으로 반환되며, 이 페이지의 모든 행을 다시 확인해야 한다.

따라서, BRIN은 값이 국지적으로 분포된 컬럼에 적합하다(인접한 위치에 저장된 값들이 유사한 요약 정보 속성을 가진 경우).
순서형 데이터 타입의 경우, 값이 오름차순이나 내림차순으로 저장되어 물리적 위치와 논리적 순서(크고 작음에 의해 정의된)가 높은 상관관계를 가지는 것이 이상적이다.
다른 유형의 요약 정보에서는 "유사한 속성"의 의미가 달라질 수 있다.

BRIN을 일반적인 의미의 인덱스라기보단 순차 힙 스캔을 가속하는 도구로 생각해도 무방하다.
각 범위가 하나의 가상 파티션을 나타내므로, 이를 파티셔닝의 대안으로 간주할 수도 있다.




[^1]:https://www.postgresql.org/docs/14/brin.html
[backend/access/brin/README](https://git.postgresql.org/gitweb/?p=postgresql.git;a=blob;f=src/backend/access/brin/README;hb=REL_14_STABLE)